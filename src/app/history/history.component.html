<div class="history-container p-4">
  <h2 class="text-xl font-bold mb-4">Historique des Conversations</h2>

  <!-- Search Input -->
  <div class="mb-4">
    <input
      type="text"
      placeholder="Rechercher dans l'historique..."
      class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      [(ngModel)]="searchTerm"
      (ngModelChange)="filterConversations()"
    />
  </div>

  <!-- Conversation List -->
  <div *ngIf="filteredConversations.length > 0; else noConversations">
    <div *ngFor="let convo of filteredConversations" class="conversation-item mb-3 p-3 border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200 cursor-pointer" (click)="loadConversation(convo.id)">
      <h3 class="font-semibold text-lg">{{ convo.title }}</h3>
      <p class="text-sm text-gray-600">{{ getConversationSnippet(convo) }}</p>
      <p class="text-xs text-gray-400 mt-1">Dernier message: {{ convo.timestamp | date:'short' }}</p>
    </div>
  </div>

  <ng-template #noConversations>
    <p class="text-gray-500">Aucune conversation trouv√©e.</p>
  </ng-template>
</div>
